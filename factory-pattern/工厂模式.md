# 工厂模式

## 一、介绍

属于创建型模式。

在创建对象时**不会对客户端暴露创建逻辑**，并且是通过使用一个共同的接口来指向新创建的对象（**复杂对象**）。

#### 1. 意图

定义一个创建对象的接口，让其子类自己决定实例化哪一个工厂类，工厂模式使其创建过程延迟到子类进行。

#### 2. 解决

接口选择问题。

#### 3. 应用实例

计划不同条件下创建不同实例。

#### 4. 如何解决

让子类<u>实现工厂接口</u>，<u>返回抽象产品</u>。

#### 5. 关键代码

创建过程在子类中进行。

#### 6. 应用实例

Hibernate换数据库，仅需要换方言、驱动。

#### 7. 优点

① 一个调用者想要创建一个对象，仅需知道名称；

② 拓展性高，新增产品，添加一个工厂类；

③ 屏蔽产品具体是实现，只关心产品接口。

#### 8. 缺点

① 每次增加一个产品时，都需要增加一个具体类和对象实现工厂，使得系统中类的个数成倍增加；

② 增加了系统具体类的依赖。

#### 9. 使用场景

① 日志记录器：记录可能记录到本地硬盘、系统事件、远程服务器等；

② 数据库访问：MySQL、Oracle等；

③ 服务器连接框架："POP3"、"IMAP"、"HTTP"；

#### 10. 注意事项

作为一种创建类模式，在任何需要生成**复杂对象**的地方，都可以使用工厂方法模式。

简单类直接New即可，无需使用工厂模式。

## 二、实现

![工厂模式的 UML 图](工厂模式.assets/AB6B814A-0B09-4863-93D6-1E22D6B07FF8.jpg)

